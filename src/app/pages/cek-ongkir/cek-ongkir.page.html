<ion-header>
  <ion-toolbar>
  <ion-buttons slot="start">
    <ion-menu-button></ion-menu-button>
  </ion-buttons>    
    <ion-title>Cek Ongkir</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list style="display: none;">
      <ion-item>
          <ion-label position="floating">Tipe Pengiriman</ion-label>
          <ion-select  interface="modal" #select_pengiriman (ionChange)="pilih_tipe_pengiriman($event)" [selectedText]="setselected_pengiriman">
            <ion-select-option *ngFor=" let item of type_pengiriman" value="{{item.val}}" >{{item.label}}</ion-select-option>
          </ion-select>
      </ion-item>
      <ion-item>
          <ion-label position="floating">Catatan Pengiriman</ion-label>
          <ion-textarea type="text" [(ngModel)]="catatan_pengiriman"></ion-textarea>
      </ion-item>          
  </ion-list>
  <ion-list *ngIf="pilihan_tipe_pengiriman==2"  style="display: none;">
    <ion-list-header><b>Pengirim Paket</b></ion-list-header>
    <ion-item>
      <ion-label position="floating">Nama</ion-label>
      <ion-input type="text" [(ngModel)]="nama_pengirim"></ion-input>
    </ion-item>
    <ion-item>
        <ion-label position="floating">No. Telp</ion-label>
        <ion-input type="text" [(ngModel)]="no_telp_pengirim"></ion-input>
    </ion-item> 
    <ion-item>
        <ion-label position="floating">Alamat</ion-label>
        <ion-textarea type="text" [(ngModel)]="alamat_pengirim"></ion-textarea>
    </ion-item>    
  </ion-list>
  <ion-list  style="display: none;">
      <ion-list-header><b>Penerima Paket</b></ion-list-header>
      <ion-item>
        <ion-label position="floating">Nama</ion-label>
        <ion-input type="text" [(ngModel)]="nama_penerima"></ion-input>
      </ion-item>
      <ion-item>
          <ion-label position="floating">No. Telp</ion-label>
          <ion-input type="text" [(ngModel)]="no_telp_penerima"></ion-input>
      </ion-item> 
      <ion-item>
          <ion-label position="floating">Alamat</ion-label>
          <ion-textarea type="text" [(ngModel)]="alamat_penerima"></ion-textarea>
      </ion-item> 
  </ion-list>
  <ion-list  *ngIf="pilihan_tipe_pengiriman!=3">
      <ion-list-header><b>Tujuan Pengiriman</b></ion-list-header>
    <ion-item>
      <ion-label position="stacked">Provinsi</ion-label>
      <!-- <ion-select  interface="modal" placeholder="Pilih Propinsi" #select_provinsi (ionChange)="pilih_provinsi($event)" [selectedText]="setselected_provinsi">
        <ion-select-option *ngFor=" let item of data_provinsi" [value]="item" >{{item.province}}</ion-select-option>
      </ion-select> -->
      <ion-select  interface="modal" name="sel_provinsi" placeholder="Pilih Propinsi" #select_provinsi (ionChange)="pilih_provinsi($event)" [selectedText]="setselected_provinsi">
        <ion-select-option *ngFor=" let item of data_provinsi" [value]="item" >{{item.province}}</ion-select-option>
      </ion-select>      
    </ion-item>
    <ion-item>
      <ion-label position="stacked">Kabupaten</ion-label>
      <ion-select  interface="modal" name="select_kota" placeholder="Pilih Kota" #select_kota (ionChange)="pilih_kota($event)" >
        <ion-select-option *ngFor=" let item of data_kota" [value]="item" >{{item.city_name}}</ion-select-option>
      </ion-select>
    </ion-item>  
    <ion-item>
      <ion-label position="stacked">Kecamatan</ion-label>
      <ion-select  interface="modal" placeholder="Pilih Kecamatan" #select_kecamatan (ionChange)="pilih_kecamatan($event)" [selectedText]="setselected_kecamatan">
        <ion-select-option *ngFor=" let item of data_kecamatan" [value]="item" >{{item.subdistrict_name}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
        <ion-label position="stacked">Kurir</ion-label>
        <ion-select  interface="modal" placeholder="Pilih Kurir" #select_kurir (ionChange)="pilih_kurir($event)" [selectedText]="setselected_kurir">
          <ion-select-option *ngFor=" let item of data_kurir" [value]="item"  >{{item.label}}</ion-select-option>
        </ion-select>
    </ion-item> 
    <ion-item>
        <ion-label position="stacked">Pilih Paket</ion-label>
        <ion-select  interface="modal" placeholder="Pilih Paket" #select_paket (ionChange)="pilih_paket($event)" [selectedText]="setselected_paket">
          <ion-select-option *ngFor=" let item of data_paket" [value]="item" >{{item.service}} -  {{item.cost | currency : 'IDR' : 'Rp.' }}</ion-select-option>
        </ion-select>
    </ion-item>                             
  </ion-list> 
  <ion-list style="display: none;">
      <ion-list-header><b>Total Order</b></ion-list-header>
      <ion-item>
          <ion-col>Total</ion-col>
          <ion-col>{{summary.total | currency : 'IDR' : 'Rp.' }}</ion-col>
      </ion-item>
      <ion-item>
          <ion-col>Ongkos Kirim</ion-col>
          <ion-col>{{summary.ongkir | currency : 'IDR' : 'Rp.' }}</ion-col>
      </ion-item>      
      <ion-item>
          <ion-col>Potongan</ion-col>
          <ion-col>{{summary.potongan | currency : 'IDR' : 'Rp.' }}</ion-col>
      </ion-item>      
      <ion-item>
          <ion-col>Grand Total</ion-col>
          <ion-col>{{summary.grand_total | currency : 'IDR' : 'Rp.' }}</ion-col>
      </ion-item>      
      <ion-item style="text-align: center;">
          <ion-button (click)="save_pengiriman()">Submit</ion-button>
      </ion-item>
  </ion-list>  
</ion-content>
